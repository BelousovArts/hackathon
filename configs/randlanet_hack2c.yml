dataset:
  name: Hack2C
  dataset_path: # Путь к датасету (не требуется для inference)
  cache_dir: ./cache
  ignored_label_inds: []
  num_points: 65536
  # Передаются СЧЁТЧИКИ классов, а не готовые веса: [count_bg, count_car]
  class_weights: [10068083, 545219]
  # Если нужно явно задать файлы, можно добавить train_files/val_files/test_files списками
  auto_split: false
  train_files:
    - tile_i0000_j0000_x98520-98720_y84237-84437_n201587.ply
    - tile_i0000_j0001_x98520-98720_y84427-84627_n51890.ply
    - tile_i0000_j0002_x98520-98720_y84617-84817_n48683.ply
    - tile_i0001_j0000_x98710-98910_y84237-84437_n181799.ply
    - tile_i0001_j0001_x98710-98910_y84427-84627_n184745.ply
    - tile_i0001_j0002_x98710-98910_y84617-84817_n74777.ply
    - tile_i0001_j0003_x98710-98910_y84807-85007_n29152.ply
    - tile_i0002_j0003_x98900-99100_y84807-85007_n446765.ply
    - tile_i0002_j0004_x98900-99100_y84997-85197_n184763.ply
    - tile_i0003_j0003_x99090-99290_y84807-85007_n354615.ply
    - tile_i0003_j0004_x99090-99290_y84997-85197_n327619.ply
    - tile_i0004_j0003_x99280-99480_y84807-85007_n346275.ply
    - tile_i0004_j0004_x99280-99480_y84997-85197_n23343.ply
    - tile_i0005_j0003_x99470-99670_y84807-85007_n271474.ply
    - tile_i0006_j0003_x99660-99860_y84807-85007_n228151.ply
    - tile_i0007_j0003_x99850-100050_y84807-85007_n209925.ply
    - tile_i0008_j0003_x100040-100240_y84807-85007_n211844.ply
    - tile_i0008_j0004_x100040-100240_y84997-85197_n302675.ply
    - tile_i0008_j0005_x100040-100240_y85187-85387_n129235.ply
    - tile_i0009_j0004_x100230-100430_y84997-85197_n39293.ply
    - tile_i0009_j0005_x100230-100430_y85187-85387_n227051.ply
    - tile_i0009_j0006_x100230-100430_y85377-85577_n439067.ply
    - tile_i0009_j0007_x100230-100430_y85567-85767_n124710.ply
    - tile_i0010_j0006_x100420-100620_y85377-85577_n308071.ply
    - tile_i0010_j0007_x100420-100620_y85567-85767_n168721.ply
    - tile_i0011_j0006_x100610-100810_y85377-85577_n427022.ply
    - tile_i0011_j0007_x100610-100810_y85567-85767_n20826.ply
    - tile_i0012_j0005_x100800-101000_y85187-85387_n11561.ply
    - tile_i0012_j0006_x100800-101000_y85377-85577_n422371.ply
    - tile_i0013_j0005_x100990-101190_y85187-85387_n117572.ply
    - tile_i0013_j0006_x100990-101190_y85377-85577_n301760.ply
    - tile_i0014_j0005_x101180-101380_y85187-85387_n186506.ply
    - tile_i0014_j0006_x101180-101380_y85377-85577_n132112.ply
    - tile_i0015_j0005_x101370-101570_y85187-85387_n174767.ply
    - tile_i0015_j0006_x101370-101570_y85377-85577_n112094.ply
    - tile_i0016_j0005_x101560-101760_y85187-85387_n86321.ply
    - tile_i0016_j0006_x101560-101760_y85377-85577_n164584.ply
    - tile_i0017_j0006_x101750-101950_y85377-85577_n242613.ply
    - tile_i0018_j0006_x101940-102140_y85377-85577_n264105.ply
    - tile_i0019_j0006_x102130-102330_y85377-85577_n243389.ply
    - tile_i0020_j0006_x102320-102520_y85377-85577_n212756.ply
    - tile_i0021_j0006_x102510-102710_y85377-85577_n253544.ply
    - tile_i0022_j0006_x102700-102900_y85377-85577_n227089.ply
    - tile_i0022_j0007_x102700-102900_y85567-85767_n16517.ply
    - tile_i0023_j0006_x102890-103090_y85377-85577_n350364.ply
    - tile_i0023_j0007_x102890-103090_y85567-85767_n17949.ply
    - tile_i0024_j0006_x103080-103280_y85377-85577_n233829.ply
    - tile_i0024_j0007_x103080-103280_y85567-85767_n76206.ply
    - tile_i0025_j0006_x103270-103470_y85377-85577_n23784.ply
    - tile_i0025_j0007_x103270-103470_y85567-85767_n320243.ply
    - tile_i0025_j0008_x103270-103470_y85757-85957_n96356.ply
    - tile_i0026_j0007_x103460-103660_y85567-85767_n16132.ply
    - tile_i0026_j0008_x103460-103660_y85757-85957_n385668.ply
    - tile_i0026_j0009_x103460-103660_y85947-86147_n346737.ply
    - tile_i0027_j0009_x103650-103850_y85947-86147_n12295.ply
  val_files:
      - tile_i0020_j0006_x102320-102520_y85377-85577_n212756.ply
      - tile_i0021_j0006_x102510-102710_y85377-85577_n253544.ply
      - tile_i0022_j0006_x102700-102900_y85377-85577_n227089.ply
      - tile_i0022_j0007_x102700-102900_y85567-85767_n16517.ply
      - tile_i0023_j0006_x102890-103090_y85377-85577_n350364.ply
      - tile_i0023_j0007_x102890-103090_y85567-85767_n17949.ply
      - tile_i0024_j0006_x103080-103280_y85377-85577_n233829.ply
      - tile_i0024_j0007_x103080-103280_y85567-85767_n76206.ply
      - tile_i0025_j0006_x103270-103470_y85377-85577_n23784.ply
  test_files: []
  steps_per_epoch_train: 100         # при желании
  steps_per_epoch_valid: 1   
  car_source_ids: [7]  # какие исходные id считать классом 'car'

model:
  name: RandLANet
  batcher: DefaultBatcher
  ckpt_path:  # пусто для обучения с нуля
  num_neighbors: 8
  num_layers: 5
  num_points: 65536
  num_classes: 2
  ignored_label_inds: []
  sub_sampling_ratio: [4, 4, 4, 4, 2]
  in_channels: 3
  dim_features: 8
  dim_output: [16, 64, 128, 256, 512]
  grid_size: 0.02
  augment:
    recenter:
      dim: [0, 1, 2]
    normalize:
      points:
        method: linear

pipeline:
  name: SemanticSegmentation
  optimizer:
    lr: 0.001
  batch_size: 2
  main_log_dir: ./logs
  max_epoch: 100
  save_ckpt_freq: 1
  scheduler_gamma: 0.99
  test_batch_size: 1
  train_sum_dir: train_log
  val_batch_size: 2
  summary:
    record_for: []
    max_pts:
    use_reference: false
    max_outputs: 1


